webpackJsonp([0],{"1vYz":function(t,a){},H8B5:function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("7+uW"),o=e("7t+N"),i=e.n(o),r=new n.a,s=90/62,c=3600,l=new Image;l.src="./static/monster.png";var v=new Image;v.src="./static/hammer.png";var u={monster:l,leftTopIcon:v},p={data:function(){return{canvas:"",canvasContext:"",imageData:u,cardData:{croppedCanvas:null,title:"",leftTopIcon:"magicBook"}}},mounted:function(){var t=this;this.canvas=i()("#printCanvas"),this.canvasContext=this.canvas[0].getContext("2d"),this.resizeRatio(),i()(window).on("resize",function(){t.resizeRatio(),t.print()}),r.$on("printBackground",this.printBackground),r.$on("printTitle",this.printTitle),r.$on("printLeftTopIcon",this.printLeftTopIcon)},watch:{cardData:{deep:!0,handler:function(){this.print()}}},methods:{resizeRatio:function(){this.canvas.height(this.canvas.width()*s);var t=c/this.canvas.width();this.canvas.attr("height",this.canvas.height()*t),this.canvas.attr("width",this.canvas.width()*t)},print:function(){this.canvasContext.drawImage(this.cardData.croppedCanvas,0,0,this.canvas.attr("width"),this.canvas.attr("height")),this.canvasContext.drawImage(this.imageData.monster,0,0,this.canvas.attr("width"),this.canvas.attr("height")),this.canvasContext.drawImage(this.imageData.leftTopIcon,0,0,this.canvas.attr("width"),this.canvas.attr("height")),this.canvasContext.fillStyle="rgba(229, 205, 197, 1)";var t=.05*c;this.canvasContext.font=t+"px Arial, cwTeXFangSong",this.canvasContext.fillText(this.cardData.title,.6*c,.172*c)},printBackground:function(t){this.cardData.croppedCanvas=t},printTitle:function(t){this.cardData.title=t},printLeftTopIcon:function(t){this.cardData.leftTopIcon=t}}},d={render:function(){var t=this.$createElement;return(this._self._c||t)("canvas",{attrs:{id:"printCanvas"}})},staticRenderFns:[]};var m=e("VU/8")(p,d,!1,function(t){e("q+9S")},"data-v-19ffae97",null).exports,f=(e("rwyn"),e("5SB6")),h={data:function(){return{cropper:"",croppable:!1,url:"",autoCrop:!1}},mounted:function(){var t=this,a=document.getElementById("image");this.cropper=new f.a(a,{aspectRatio:62/90,viewMode:1,background:!1,zoomable:!1,responsive:!1,ready:function(){t.croppable=!0},crop:function(){t.autoCrop&&t.crop()}})},methods:{change:function(t){var a=t.target.files||t.dataTransfer.files;a.length&&(this.url=window.URL.createObjectURL(a[0]),this.cropper.replace(this.url))},crop:function(){var t;this.croppable&&(t=this.cropper.getCroppedCanvas(),r.$emit("printBackground",t))}}},C={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"imageContenter"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.autoCrop,expression:"autoCrop"}],attrs:{type:"checkbox",id:"autoCropCheckbox"},domProps:{checked:Array.isArray(t.autoCrop)?t._i(t.autoCrop,null)>-1:t.autoCrop},on:{change:function(a){var e=t.autoCrop,n=a.target,o=!!n.checked;if(Array.isArray(e)){var i=t._i(e,null);n.checked?i<0&&(t.autoCrop=e.concat([null])):i>-1&&(t.autoCrop=e.slice(0,i).concat(e.slice(i+1)))}else t.autoCrop=o}}}),t._v(" "),e("label",{attrs:{for:"autoCropCheckbox"}},[t._v("即時裁切")]),t._v(" "),e("input",{attrs:{type:"file",id:"change",accept:"image"},on:{change:t.change}}),t._v(" "),e("label",{staticClass:"btn btn-primary",attrs:{for:"change"}},[t._v("上傳")]),t._v(" "),e("label",{staticClass:"btn btn-primary",on:{click:t.crop}},[t._v("切割")]),t._v(" "),e("br"),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:t.url,expression:"url"}],attrs:{id:"image",src:t.url,alt:"Picture"}})])},staticRenderFns:[]};var _=e("VU/8")(h,C,!1,function(t){e("qsT0")},"data-v-65cad340",null).exports,g={data:function(){return{title:"",act:0,def:0,leftTopIcon:"magicBook",attribute:"wind",romanNumeral:"2"}},watch:{title:function(t){r.$emit("printTitle",t)},leftTopIcon:function(t){r.$emit("printLeftTopIcon",t)}},mounted:function(){},methods:{}},w={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("form",[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"title"}},[t._v("名稱")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"名稱"},domProps:{value:t.title},on:{input:function(a){a.target.composing||(t.title=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"leftTopIcon"}},[t._v("左上物件")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.leftTopIcon,expression:"leftTopIcon"}],staticClass:"form-control",attrs:{id:"leftTopIcon"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.leftTopIcon=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"magicBook"}},[t._v("法書")]),t._v(" "),e("option",{attrs:{value:"map"}},[t._v("地圖")]),t._v(" "),e("option",{attrs:{value:"sword"}},[t._v("劍")]),t._v(" "),e("option",{attrs:{value:"hammer"}},[t._v("鐵鎚")]),t._v(" "),e("option",{attrs:{value:"insignia"}},[t._v("徽章")])])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"attribute"}},[t._v("屬性珠")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.attribute,expression:"attribute"}],staticClass:"form-control",attrs:{id:"attribute"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.attribute=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"mine"}},[t._v("雷")]),t._v(" "),e("option",{attrs:{value:"wind"}},[t._v("風")]),t._v(" "),e("option",{attrs:{value:"grass"}},[t._v("草")]),t._v(" "),e("option",{attrs:{value:"water"}},[t._v("水")]),t._v(" "),e("option",{attrs:{value:"fire"}},[t._v("火")])])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"romanNumeral"}},[t._v("羅馬數")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.romanNumeral,expression:"romanNumeral"}],staticClass:"form-control",attrs:{id:"romanNumeral"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.romanNumeral=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"1"}},[t._v("1")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("2")]),t._v(" "),e("option",{attrs:{value:"3"}},[t._v("3")]),t._v(" "),e("option",{attrs:{value:"4"}},[t._v("4")]),t._v(" "),e("option",{attrs:{value:"5"}},[t._v("5")])])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"act"}},[t._v("攻擊")]),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.act,expression:"act"}],staticClass:"form-control",attrs:{type:"number",id:"act"},domProps:{value:t.act},on:{input:function(a){a.target.composing||(t.act=a.target.value)}}})]),t._v(" "),e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"def"}},[t._v("防守")]),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.def,expression:"def"}],staticClass:"form-control",attrs:{type:"number",id:"def"},domProps:{value:t.def},on:{input:function(a){a.target.composing||(t.def=a.target.value)}}})])])])])},staticRenderFns:[]};var b=e("VU/8")(g,w,!1,function(t){e("1vYz")},"data-v-46f29e6e",null).exports,x=(e("K3J8"),{data:function(){return{rightComponent:"uploadPic"}},components:{printCanvas:m,uploadPic:_,monsterCard:b},computed:{uploadPicIsActive:function(){return"uploadPic"==this.rightComponent},monsterCardIsActive:function(){return"monsterCard"==this.rightComponent}},methods:{downloadCanvas:function(){document.getElementById("printCanvas").toBlob(function(t){var a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download="card.png",a.click()})},changeComponent:function(t){this.rightComponent=t}}}),I={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-4 mainCol"},[e("printCanvas")],1),t._v(" "),e("div",{staticClass:"col-8 mainCol"},[e("ul",{staticClass:"nav nav-tabs",attrs:{id:"commontTab",role:"tablist"}},[e("li",{staticClass:"nav-item",on:{click:function(a){t.changeComponent("uploadPic")}}},[e("a",{staticClass:"nav-link",class:{active:t.uploadPicIsActive}},[t._v("角色圖")])]),t._v(" "),e("li",{staticClass:"nav-item",on:{click:function(a){t.changeComponent("monsterCard")}}},[e("a",{staticClass:"nav-link",class:{active:t.monsterCardIsActive}},[t._v("內容")])]),t._v(" "),t._m(0),t._v(" "),e("li",{staticClass:"nav-item dropdown"},[e("a",{staticClass:"nav-link dropdown-toggle",attrs:{"data-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[t._v("輸出相關")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#",id:"download"},on:{click:t.downloadCanvas}},[t._v("輸出")]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("dpiConverter")])])])]),t._v(" "),e("keep-alive",[e(t.rightComponent,{tag:"component"})],1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link"},[this._v("資訊")])])}]};var T=e("VU/8")(x,I,!1,function(t){e("WKS/")},"data-v-23c1da3a",null).exports;e("H8B5"),e("OGwZ");n.a.config.productionTip=!1,new n.a({el:"#app",components:{App:T},template:"<App/>"})},OGwZ:function(t,a){},"WKS/":function(t,a){},"q+9S":function(t,a){},qsT0:function(t,a){},rwyn:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.776fe66847b271207fe4.js.map